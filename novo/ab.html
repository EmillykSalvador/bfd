<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <!--teste-->
  <title>Sistema de Aluguel de Filme</title>
</head>
<body>
    <h1 style="margin: 40px;">Sistema Aluguel de Filme</h1>

      <select id="cat" onchange="categorias()">
          <option value="tudo">Todas as Categorias</option>
          <option value="A√ß√£o">A√ß√£o</option>
          <option value="Com√©dia">Com√©dia</option>
          <option value="Drama">Drama</option>
          <option value="Terror">Terror</option>
          <option value="Documentario">Documentario</option>
      </select>

      <select id="ord" onchange="ordenar()">
          <option value="geral">Ordenar:</option>
          <option value="a-z">(A-Z)</option>
          <option value="z-a">(Z-A)</option>
          <option value="preco">Pre√ßo (Maior-Menor)</option>
          <option value="cres">Pre√ßo (Menor-Maior)</option>
      </select>

      <select id="disponivel" onchange="aplicardisponivel()">
          <option value="todos">Todos</option>
          <option value="disponivel">Dispon√≠veis</option>
          <option value="fora">Indispon√≠veis</option>
      </select>
      <div style="margin: 30px;">
        <button class="btn" onclick="mostrarPagina('home')">üè† Filmes</button>
        <button class="btn" onclick="mostrarPagina('carrinhoPage')">üõí Carrinho</button>
    </div>
    <div id="home" class="pagina ativa">
    <div id="oo" style="margin: 30px;">
      <input type="text" id="pesquisa" placeholder="Pesquisar Produto" onkeyup="aplicar()">
      <button type="button" onclick="buscar()">Buscar</button>
    </div>

    <div id="faixa" style="margin: 30px;" >
      <h4>Faixa de Pre√ßo:</h4>
      <label>M√≠nimo:</label>
      <input type="number" id="min" placeholder="0" onchange="aplicar()">
      <label>M√°ximo:</label>
      <input type="number" id="max" placeholder="630" onchange="aplicar()">
      <label style="margin-left: 15px;">
        <input type="checkbox" id="destaque" onchange="aplicar()">
        Destaques do M√™s
      </label>
    </div>

    <div id="inf" style="margin: 30px;">
      <span id="totalpp" style="margin: 10px;">0</span> produtos encontrados
      <button onclick="Limparfiltro()" style="margin: 10px;">Limpar Filtros</button>
    </div>

    <div class="produtos" id="listaProdutos"></div>
  </div>


  <div id="carrinhoPage" class="pagina">
    <h2>Minhas Compras üõí</h2>
    <div id="carrinho-itens"></div>
    <p><strong>Total: R$ <span id="total">0,00</span></strong></p>
  </div>

  <script>
    var carrinho = [];

    var produtos = [
      {nome: "It: a coisa", preco: 20, cat: "Terror", disponivel: true, destaque: false, img: "https://br.web.img2.acsta.net/pictures/17/03/29/07/56/333222.jpg"}, 
      {nome: "A casa do terror", preco: 15, cat: "Terror", disponivel: false, destaque: false, img: "https://m.media-amazon.com/images/S/pv-target-images/86acaf0a196c6136e6a3e4c11d3b155aa520acd3504eee0a9a880bf7a83332ba.jpg"}, 
      {nome: "O Exorcista", preco: 18, cat: "Terror", disponivel: true, destaque: false, img: "https://cinemaeafins.com.br/wp-content/uploads/2023/07/o-exorcista-o-devoto-2023-poster.jpg"}, 
      {nome: "A espinha do Diabo", preco: 20, cat: "Terror", disponivel: false, destaque: false, img: "https://2.bp.blogspot.com/-SVnoiyvdeDk/UfKtfl3tSfI/AAAAAAAADDI/kRVQS7wqrp8/s320/A+Espinha+do+Diabo+poster.jpg"},
      {nome: "invoca√ß√£o do mal 4", preco: 40, cat: "Terror", disponivel: true, destaque: true, img: "https://th.bing.com/th/id/OIP.MQntMVqyXyKTkxua_n-HbQHaJQ?w=147&h=184&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3"}, 
      {nome: "Matador de Aluguel", preco: 25, cat: "A√ß√£o", disponivel: true, destaque: false, img: "https://images.justwatch.com/poster/310427053/s718/o-matador-de-aluguel.jpg"}, 
      {nome: "Matrix", preco: 20, cat: "A√ß√£o", disponivel: true, destaque: false, img: "https://poltronanerd.com.br/wp-content/uploads/2021/11/poltrona-matrix-resurrections-poster.jpg"}, 
      {nome: "John Wick", preco: 30, cat: "A√ß√£o", disponivel: true, destaque: false, img: "https://br.web.img2.acsta.net/pictures/14/09/22/10/38/006613.jpg"},
      {nome: "Duro de Matar", preco: 30, cat: "A√ß√£o", disponivel: true, destaque: false, img: "https://tse2.mm.bing.net/th/id/OIP.nVVVuinZ7RrDv34j-9hl0gHaK0?rs=1&pid=ImgDetMain&o=7&rm=3"}, 
      {nome: "Batman eternamente", preco: 35, cat: "A√ß√£o", disponivel: true, destaque: true, img: "https://http2.mlstatic.com/D_NQ_NP_915967-MLB79203094129_092024-O-poster-cartaz-batman-eternamente-a-30x45cm.webp"}, 
      {nome: "Miss√£o Madrinha de Casamento", preco: 15, cat: "Com√©dia", disponivel: true, destaque: false, img: "https://www.cafecomfilme.com.br/media/k2/items/cache/d81dde7813bd99a2f6a5498a2ec932ec_XL.jpg?t=20180127_191234"},
      {nome: "Minha M√£e √© Uma Pe√ßa", preco: 25, cat: "Com√©dia", disponivel: true, destaque: false, img: "https://www.researchgate.net/publication/323484835/figure/fig1/AS:599408517320704@1519921535761/cartaz-do-filme-Minha-mae-e-uma-peca.png"}, 
      {nome: "As branquelas", preco: 25, cat: "Com√©dia", disponivel: true, destaque: false, img: "https://br.web.img3.acsta.net/r_1280_720/medias/nmedia/18/97/52/82/20534159.jpg"},
      {nome: "Meninas Malvadas", preco: 25, cat: "Com√©dia", disponivel: true, destaque: false, img: "https://tse3.mm.bing.net/th/id/OIP.YWavTUCsNtpn_mA1AT8AfgHaLH?rs=1&pid=ImgDetMain&o=7&rm=3"}, 
      {nome: "Tempos Modernos", preco: 25, cat: "Com√©dia", disponivel: true, destaque: false, img: "https://i1.wp.com/pocilga.com.br/wp-content/uploads/2017/04/modern-times-cartaz.jpg?w=902"}, 
      {nome: "A Sogra Perfeita 2", preco: 30, cat: "Com√©dia", disponivel: true, destaque: true, img: "https://www.cinesercla.com.br/Uploads/upload/94a26042-0507-41a8-8d37-f2d729d518ab.jpeg"}, 
      {nome: "Como Eu Era Antes de Voc√™", preco: 20, cat: "Drama", disponivel: true, destaque: false, img: "https://1.bp.blogspot.com/-cEB7l-zj5zU/V2LtUvDXmXI/AAAAAAAAGCA/ZwvzkWn58G8isilRMbhrN31PtZdM9a9NwCLcB/s1600/cmera.jpg"},
      {nome: "A Culpa √© das Estrelas", preco: 22, cat: "Drama", disponivel: true, destaque: false, img: "https://i0.wp.com/crescendoaospoucos.com/wp-content/uploads/2021/07/a-culpa-e-das-estrelas.jpg?resize=430%2C651&ssl=1"}, 
      {nome: "Doze Anos de Escravid√£o", preco: 23, cat: "Drama", disponivel: true, destaque: false, img: "https://cinegarimpo.com.br/wp/content/uploads/2014/02/cinegarimpo.com.br-12-anos-de-escravidao-download-286x425.png"}, 
      {nome: "Sempre ao Seu Lado", preco: 25, cat: "Drama", disponivel: true, destaque: false, img: "https://i.pinimg.com/originals/ee/36/73/ee3673e5d380ec436620cf7691544142.jpg"}, 
      {nome: "A Grande Viajem da Sua Vida", preco: 25, cat: "Drama", disponivel: true, destaque: true, img: "https://www.cinesercla.com.br/Uploads/upload/cf2edde8-0398-4eb1-8f4b-75329576441e.jpg"},
      {nome: "Michael", preco: 30, cat: "Documentario", disponivel: true, destaque: true, img: "https://static.wikia.nocookie.net/7525d7c4-14da-4fb1-a77c-8481cfd5f647"}
    ];

    function formepre(valor){
      return "R$ " + valor.toFixed(2).replace(".",",");
    }

    function mostrarProdutos(lista) {
      var area = document.getElementById("listaProdutos");
      area.innerHTML = "";
      document.getElementById("totalpp").textContent = lista.length;

      for (var i = 0; i < lista.length; i++) {
        var produto = lista[i];
        area.innerHTML += `
          <div style="border:1px solid #ccc; margin:5px; padding:10px; width:200px; display:inline-block; vertical-align:top; text-align:center;">
            <img src="${produto.img}" alt="${produto.nome}" style="width:100%; height:250px; object-fit:cover; border-radius:5px;">
            <h3>${produto.nome}</h3>
            <p>Categoria: ${produto.cat}</p>
            <p>Pre√ßo: ${formepre(produto.preco)}</p>
            <button onclick="adicionarCarrinho(${i})">Adicionar ao Carrinho</button>
          </div>
        `;
      }
    }

    function adicionarCarrinho(index) {
      carrinho.push(produtos[index]);
      renderCarrinho();
      alert(produtos[index].nome + " foi adicionado ao carrinho!");
    }

    function renderCarrinho() {
      var carrinhoItens = document.getElementById("carrinho-itens");
      carrinhoItens.innerHTML = "";
      let total = 0;

      carrinho.forEach((item) => {
        carrinhoItens.innerHTML += `<p>${item.nome} - ${formepre(item.preco)}</p>`;
        total += item.preco;
      });
      
      document.getElementById("total").textContent = total.toFixed(2).replace(".", ",");
    }

    function mostrarPagina(pagina) {
      document.querySelectorAll('.pagina').forEach(p => p.classList.remove('ativa'));
      document.getElementById(pagina).classList.add('ativa');
    }

    mostrarProdutos(produtos) ;
    
  </script>
  <style>
    * {
      background-color: black;
      color: aliceblue;
    }
    .pagina { display: none; margin: 30px; }
    .ativa { display: block; }
  </style>
</body>
</html>
